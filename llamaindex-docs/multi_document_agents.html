<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Multi-Document Agents (V1)" href="multi_document_agents-v1.html" /><link rel="prev" title="Ensemble Query Engine Guide" href="../query_engine/ensemble_query_engine.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Multi-Document Agents - LlamaIndex ðŸ¦™ 0.8.45.post1</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="/_/static/css/badge_only.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/algolia.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style>
<!-- RTD Extra Head -->

<link rel="stylesheet" href="/_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/docs/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "examples/agent/multi_document_agents", "programming_language": "words", "project": "gpt-index", "proxied_api_host": "/_", "source_suffix": ".ipynb", "subprojects": {}, "theme": "furo", "user_analytics_code": "G-BYVB1ZVE6J", "version": "stable"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="/_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">LlamaIndex ðŸ¦™ 0.8.45.post1
</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">LlamaIndex ðŸ¦™ 0.8.45.post1
</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/starter_example.html">Starter Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/concepts.html">High-Level Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/customization.html">Customization Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">End-to-End Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../end_to_end_tutorials/usage_pattern.html">Basic Usage Pattern</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../end_to_end_tutorials/one_click_observability.html">One-Click Observability</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb">Arize Phoenix Tracing Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb">Evaluating Search and Retrieval with Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Quickstart Guide with LlamaIndex + TruLens</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Colab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/HoneyHiveLlamaIndexTracer.html">HoneyHive LlamaIndex Tracer</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../end_to_end_tutorials/principled_dev_practices.html">Principled Development Practices</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/development_pathway.html">The Development Pathway</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/production_rag.html">Building Performant RAG Applications for Production</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/chroma_auto_retriever.html">Auto-Retrieval from a Vector Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/auto_vs_recursive_retriever.html">Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval)</a></li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/root.html">Query Engine</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4 has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../core_modules/query_modules/query_engine/response_modes.html">Response Modes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../core_modules/query_modules/query_engine/streaming.html">Streaming</a></li>
</ul>
</li>
<li class="toctree-l4 current has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/modules.html">Module Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../query_engine/custom_query_engine.html">Custom Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/CustomRetrievers.html">Retriever Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/json_query_engine.html">JSON Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/pandas_query_engine.html">Pandas Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/SQLAutoVectorQueryEngine.html">SQL Auto Vector Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/SQLJoinQueryEngine.html">SQL Join Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/pgvector_sql_query_engine.html">[Beta] Text-to-SQL with PGVector</a></li>
<li class="toctree-l5"><a class="reference internal" href="../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Source Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Guideline Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/citation_query_engine.html">CitationQueryEngine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/sec_tables/tesla_10q_table.html">Joint Tabular/Semantic QA over Tesla 10K</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/ensemble_query_engine.html">Ensemble Query Engine Guide</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Multi-Document Agents</a></li>
<li class="toctree-l5"><a class="reference internal" href="multi_document_agents-v1.html">Multi-Document Agents (V1)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/flare_query_engine.html">FLARE Query Engine</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/supporting_modules.html">Supporting Modules</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/advanced/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l6"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../core_modules/query_modules/router/root.html">Routers</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../core_modules/query_modules/router/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../core_modules/query_modules/router/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../retrievers/router_retriever.html">Router Retriever</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="../../core_modules/agent_modules/agents/root.html">Data Agents</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../core_modules/agent_modules/agents/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l4 current has-children"><a class="reference internal" href="../../core_modules/agent_modules/agents/modules.html">Module Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l5"><a class="reference internal" href="openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l5"><a class="reference internal" href="openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l5"><a class="reference internal" href="openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l5"><a class="reference internal" href="openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l5"><a class="reference internal" href="openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Multi-Document Agents</a></li>
<li class="toctree-l5"><a class="reference internal" href="react_agent_with_query_engine.html">ReAct Agent with Query Engine Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../finetuning/embeddings/finetune_embedding.html">Embedding Fine-tuning Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/observability.html">Observability</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/evaluation.html">Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/e2e_evaluation.html">End-to-End Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/component_wise_evaluation.html">Component Wise Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/BeirEvaluation.html">BEIR Out of Domain Benchmark</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/HotpotQADistractor.html">HotpotQADistractor Demo</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/root.html">Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/usage_pattern.html">Usage Pattern (Response Evaluation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/usage_pattern_retrieval.html">Usage Pattern (Retrieval)</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/Deepeval.html">LlamaIndex + DeepEval Integration</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../evaluation/retrieval/retriever_eval.html">Retrieval Evaluation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/dev_practices/monitoring.html">Monitoring</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../end_to_end_tutorials/discover_llamaindex.html">Discover LlamaIndex Video Series</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../end_to_end_tutorials/finetuning.html">Finetuning</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/embeddings/finetune_embedding_adapter.html">Fine-tuning an Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/embeddings/finetune_embedding.html">Embedding Fine-tuning Guide</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/finetune-embedding">Embedding Fine-tuning Repo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://medium.com/llamaindex-blog/fine-tuning-embeddings-for-rag-with-synthetic-data-e534409a3971">Embedding Fine-tuning Blog</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1NgyCJVyrC2xcZ5lxt2frTU862v6eJHlc?usp=sharing">GPT-3.5 Fine-tuning Notebook (Colab)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/openai_fine_tuning.html">GPT-3.5 Fine-tuning Notebook (Notebook link)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/react_agent/react_agent_finetune.html">Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/openai_fine_tuning_functions.html">[WIP] Function Calling Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing">GPT-3.5 Fine-tuning Notebook (Colab)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/jerryjliu/llama_index/blob/main/experimental/openai_fine_tuning/openai_fine_tuning.ipynb">GPT-3.5 Fine-tuning Notebook (in Repo)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/knowledge/finetune_retrieval_aug.html">Fine-tuning with Retrieval Augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/knowledge/finetune_knowledge.html">Fine-tuning to Memorize Knowledge</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/modal_finetune_sql">Llama 2 Text-to-SQL Fine-tuning (Repo)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/modal_finetune_sql/blob/main/tutorial.ipynb">Llama 2 Text-to-SQL Fine-tuning (Notebook)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/cross_encoder_finetuning/cross_encoder_finetuning.html">Cross-Encoder Finetuning</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../end_to_end_tutorials/low_level/root.html">Building RAG from Scratch (Lower-Level)</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../low_level/ingestion.html">Building Data Ingestion from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/ingestion.html#pinecone">Pinecone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/ingestion.html#openai">OpenAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/retrieval.html">Building Retrieval from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/oss_ingestion_retrieval.html">Building RAG from Scratch (Open-source only!)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/vector_store.html">Building a (Very Simple) Vector Store from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/response_synthesis.html">Building Response Synthesis from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/router.html">Building a Router from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/evaluation.html">Building Evaluation from Scratch</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../end_to_end_tutorials/use_cases.html">Use Cases</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/question_and_answer.html">Q&amp;A over Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/chatbots.html">Chatbots</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../end_to_end_tutorials/agents.html">Agents</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../end_to_end_tutorials/graphs.html">Knowledge Graphs</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/drive/1tLjOg2ZQuIClfuWrAC2LdiZHCov8oUbs">LlamaIndex Workshop: Building RAG with Knowledge Graphs</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/drive/1G6pcR0pXvSkdMQlAK_P-IrYgo-_staxd?usp=sharing">REBEL + Knowledge Graph Index</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/structured_data.html">Structured Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/apps.html">Full-Stack Web Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../end_to_end_tutorials/privacy.html">Private Setup</a></li>
<li class="toctree-l2"><a class="reference external" href="https://medium.com/llamaindex-blog/easily-finetune-llama-2-for-your-text-to-sql-applications-ecd53640e10d">Finetuning Llama 2 for Text-to-SQL</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing">Finetuning GPT-3.5 to Distill GPT-4</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index/Data Modules</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/data_modules/connector/root.html">Data Connectors (LlamaHub)</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/connector/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/connector/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/simple_directory_reader.html">Simple Directory Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/PsychicDemo.html">Psychic Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/DeepLakeReader.html">DeepLake Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/QdrantDemo.html">Qdrant Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/DiscordDemo.html">Discord Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/MongoDemo.html">MongoDB Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/ChromaDemo.html">Chroma Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/MyScaleReaderDemo.html">MyScale Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/FaissDemo.html">Faiss Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/ObsidianReaderDemo.html">Obsidian Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/SlackDemo.html">Slack Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/WebPageDemo.html">Web Page Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/PineconeDemo.html">Pinecone Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/MboxReaderDemo.html">Mbox Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/MilvusReaderDemo.html">MilvusReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/NotionDemo.html">Notion Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/GithubRepositoryReaderDemo.html">Github Repo Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/GoogleDocsDemo.html">Google Docs Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/DatabaseReaderDemo.html">Database Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/TwitterDemo.html">Twitter Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/WeaviateDemo.html">Weaviate Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/MakeDemo.html">Make Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_connectors/deplot/DeplotReader.html">Deplot Reader Demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/data_modules/documents_and_nodes/root.html">Documents / Nodes</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/documents_and_nodes/usage_documents.html">Defining and Customizing Documents</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/documents_and_nodes/usage_nodes.html">Defining and Customizing Nodes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/documents_and_nodes/usage_metadata_extractor.html">Automated Metadata Extraction for Nodes</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/data_modules/node_parsers/root.html">Node Parser</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/node_parsers/usage_pattern.html">Usage Pattern</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/data_modules/storage/root.html">Storage</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/storage/customization.html">Customizing Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/storage/save_load.html">Persisting &amp; Loading Data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/storage/vector_stores.html">Vector Stores</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ElasticsearchIndexDemo.html">Elasticsearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SimpleIndexDemo.html">Simple Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RocksetIndexDemo.html">Rockset Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/QdrantIndexDemo.html">Qdrant Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/FaissIndexDemo.html">Faiss Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/DeepLakeIndexDemo.html">DeepLake Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MyScaleIndexDemo.html">MyScale Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MetalIndexDemo.html">Metal Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/WeaviateIndexDemo.html">Weaviate Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/OpensearchDemo.html">Opensearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/PineconeIndexDemo.html">Pinecone Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ChromaIndexDemo.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/LanceDBIndexDemo.html">LanceDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MilvusIndexDemo.html">Milvus Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RedisIndexDemo.html">Redis Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RedisIndexDemo.html#query-the-data">Query the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RedisIndexDemo.html#working-with-metadata">Working with Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ZepIndexDemo.html">Zep Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ZepIndexDemo.html#create-a-zep-vector-store-and-index">Create a Zep Vector Store and Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ZepIndexDemo.html#querying-with-metadata-filters">Querying with Metadata filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/AsyncIndexCreationDemo.html">Simple Vector Store - Async Index Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/TairIndexDemo.html">Tair Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SupabaseVectorIndexDemo.html">Supabase Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/DocArrayHnswIndexDemo.html">DocArray Hnsw Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/DocArrayInMemoryIndexDemo.html">DocArray InMemory Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MongoDBAtlasVectorSearch.html">MongoDB Atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CassandraIndexDemo.html">Cassandra Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/Neo4jVectorDemo.html">Neo4j vector store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#basic-example">Basic Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#create-index-if-it-does-not-exist">Create Index (if it does not exist)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#use-existing-index">Use Existing Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#adding-a-document-to-existing-index">Adding a document to existing index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#filtering">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/EpsillaIndexDemo.html">Epsilla Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/Timescalevector.html">Timescale Vector Store (PostgreSQL)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/storage/docstores.html">Document Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/storage/index_stores.html">Index Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/storage/kv_stores.html">Key-Value Stores</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/graph_stores.html">Using Graph Stores</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/Neo4jKGIndexDemo.html">Neo4j Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html">Nebula Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KuzuGraphDemo.html">Kuzu Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/FalkorDBGraphDemo.html">FalkorDB Graph Store</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/data_modules/index/root.html">Indexes</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/data_modules/index/index_guide.html">How Each Index Works</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/index/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/data_modules/index/metadata_extraction.html">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/data_modules/index/document_management.html">Document Management</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/index/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/data_modules/index/vector_store_guide.html">Vector Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/data_modules/index/index_guide.html">Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/data_modules/index/index_guide.html">Tree Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/data_modules/index/index_guide.html">Keyword Table Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KnowledgeGraphDemo.html">Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html">Custom Retriever combining KG Index and VectorStore Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/drive/1G6pcR0pXvSkdMQlAK_P-IrYgo-_staxd?usp=sharing">REBEL + Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/knowledge_graph2.html">REBEL + Wikipedia Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/struct_indices/SQLIndexDemo.html">SQL Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/data_modules/index/composability.html">Composability</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../composable_indices/ComposableIndices-Prior.html">Composable Graph Basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../composable_indices/ComposableIndices-Weaviate.html">Composable Graph with Weaviate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../composable_indices/ComposableIndices.html">Composable Graph</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Query Modules</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/root.html">Query Engine</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/query_modules/query_engine/response_modes.html">Response Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/query_modules/query_engine/streaming.html">Streaming</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/modules.html">Module Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../query_engine/custom_query_engine.html">Custom Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/CustomRetrievers.html">Retriever Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/json_query_engine.html">JSON Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pandas_query_engine.html">Pandas Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/SQLAutoVectorQueryEngine.html">SQL Auto Vector Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/SQLJoinQueryEngine.html">SQL Join Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pgvector_sql_query_engine.html">[Beta] Text-to-SQL with PGVector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Source Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Guideline Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/citation_query_engine.html">CitationQueryEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/sec_tables/tesla_10q_table.html">Joint Tabular/Semantic QA over Tesla 10K</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/ensemble_query_engine.html">Ensemble Query Engine Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Multi-Document Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="multi_document_agents-v1.html">Multi-Document Agents (V1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/flare_query_engine.html">FLARE Query Engine</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/supporting_modules.html">Supporting Modules</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../core_modules/query_modules/query_engine/advanced/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/query_modules/chat_engines/root.html">Chat Engine</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/query_modules/chat_engines/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/chat_engines/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../chat_engine/chat_engine_react.html">ReAct Chat Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chat_engine/chat_engine_openai.html">OpenAI Chat Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chat_engine/chat_engine_context.html">Context Chat Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chat_engine/chat_engine_condense_question.html">Condense Question Chat Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chat_engine/chat_engine_repl.html">Simple Chat Engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/query_modules/retriever/root.html">Retriever</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/retriever/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../core_modules/query_modules/retriever/retriever_modes.html">Retriever Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/CustomRetrievers.html">Define Custom Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/bm25_retriever.html">BM25 Hybrid Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/simple_fusion.html">Simple Fusion Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/retriever/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/bm25_retriever.html">BM25 Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html">Custom Retriever (KG Index and Vector Store Index)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/simple_fusion.html">Simple Fusion Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/chroma_auto_retriever.html">Auto-Retrieval (with Chroma)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/BagelAutoRetriever.html">Auto-Retrieval (with BagelDB)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/router_retriever.html">Router Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/ensemble_retrieval.html">Ensemble Query Engine Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/auto_merging_retriever.html">Auto Merging Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/recursive_retriever_nodes.html">Recursive Retriever + Node References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/recurisve_retriever_nodes_braintrust.html">Recursive Retriever + Node References + Braintrust</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/query_modules/router/root.html">Routers</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/query_modules/router/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/router/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/router_retriever.html">Router Retriever</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/query_modules/node_postprocessors/root.html">Node Postprocessor</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/query_modules/node_postprocessors/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/node_postprocessors/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/OptimizerDemo.html">Sentence Embedding Optimizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/CohereRerank.html">Cohere Rerank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/LLMReranker-Lyft-10k.html">LLM Reranker Demonstration (2021 Lyft 10-k)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/LLMReranker-Gatsby.html">LLM Reranker Demonstration (Great Gatsby)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/RecencyPostprocessorDemo.html">Recency Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/TimeWeightedPostprocessorDemo.html">Time-Weighted Rerank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/PII.html">PII Masking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/PrevNextPostprocessorDemo.html">Forward/Backward Augmentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_postprocessor/LongContextReorder.html">LongContextReorder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/query_modules/response_synthesizers/root.html">Response Synthesizer</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/query_modules/response_synthesizers/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/response_synthesizers/modules.html">Module Guide</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../response_synthesizers/refine.html">Refine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../response_synthesizers/structured_refine.html">Refine with Structured Answer Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../response_synthesizers/tree_summarize.html">Tree Summarize</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/query_modules/structured_outputs/root.html">Structured Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/><label for="toctree-checkbox-52"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/structured_outputs/query_engine.html">Query Engines + Pydantic Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/><label for="toctree-checkbox-53"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pydantic_query_engine.html">Query Engine with Pydantic Outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../response_synthesizers/pydantic_tree_summarize.html">Pydantic Tree Summarize</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/structured_outputs/output_parser.html">Output Parsing</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/><label for="toctree-checkbox-54"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/GuardrailsDemo.html">Guardrails Output Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/LangchainOutputParserDemo.html">Langchain Output Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/query_modules/structured_outputs/pydantic_program.html">Pydantic Program</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" role="switch" type="checkbox"/><label for="toctree-checkbox-55"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/df_program.html">DataFrame Structured Data Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/evaporate_program.html">Evaporate Demo</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Agent Modules</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../core_modules/agent_modules/agents/root.html">Data Agents</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" role="switch" type="checkbox"/><label for="toctree-checkbox-56"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/agent_modules/agents/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../core_modules/agent_modules/agents/modules.html">Module Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" role="switch" type="checkbox"/><label for="toctree-checkbox-57"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Multi-Document Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="react_agent_with_query_engine.html">ReAct Agent with Query Engine Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/agent_modules/tools/root.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" role="switch" type="checkbox"/><label for="toctree-checkbox-58"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/agent_modules/tools/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/agent_modules/tools/llamahub_tools_guide.html">LlamaHub Tools Guide</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Model Modules</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/model_modules/llms/root.html">LLM</a><input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" role="switch" type="checkbox"/><label for="toctree-checkbox-59"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/model_modules/llms/usage_standalone.html">Using LLMs as standalone modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/model_modules/llms/usage_custom.html">Customizing LLMs within LlamaIndex Abstractions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/model_modules/llms/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" role="switch" type="checkbox"/><label for="toctree-checkbox-60"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../llm/openai.html">OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/anthropic.html">Anthropic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customization/llms/SimpleIndexDemo-Huggingface_camel.html">HuggingFace LLM - Camel-5b</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customization/llms/SimpleIndexDemo-Huggingface_stablelm.html">HuggingFace LLM - StableLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SimpleIndexDemoLlama-Local.html">Local Llama2 + VectorStoreIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/everlyai.html">EverlyAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/litellm.html">LiteLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/palm.html">PaLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/predibase.html">Predibase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/llama_2.html">Replicate - Llama 2 13B</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/vicuna.html">Replicate - Vicuna 13B</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SimpleIndexDemoLlama2.html">Llama2 + VectorStoreIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/langchain.html">LangChain LLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/llama_api.html">Llama API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/llama_2_llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/XinferenceLocalDeployment.html">Xorbits Inference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/monsterapi.html">Set Monster API Key env variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/monsterapi.html#basic-usage-pattern">Basic Usage Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/rungpt.html">RunGPT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/rungpt.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/portkey.html">Portkey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/anyscale.html">Anyscale</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/ollama.html">Ollama - Llama 2 7B</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llm/clarifai.html">Clarifai LLM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/model_modules/embeddings/root.html">Embeddings</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" role="switch" type="checkbox"/><label for="toctree-checkbox-61"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/model_modules/embeddings/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/model_modules/embeddings/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" role="switch" type="checkbox"/><label for="toctree-checkbox-62"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/OpenAI.html">OpenAI Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/Langchain.html">Langchain Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/gradient.html">Gradient Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customization/llms/AzureOpenAI.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/custom_embeddings.html">Custom Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/huggingface.html">Local Embeddings with HuggingFace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/elasticsearch.html">Elasticsearch Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/clarifai.html">Embeddings with Clarifai</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/text_embedding_inference.html">Text Embedding Inference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/model_modules/prompts.html">Prompts</a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" role="switch" type="checkbox"/><label for="toctree-checkbox-63"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../customization/prompts/completion_prompts.html">Completion Prompts Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/prompts/chat_prompts.html">Chat Prompts Customization</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../core_modules/supporting_modules/service_context.html">ServiceContext</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/callbacks/root.html">Callbacks</a><input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" role="switch" type="checkbox"/><label for="toctree-checkbox-64"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/TokenCountingHandler.html">Token Counting Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/LlamaDebugHandler.html">Llama Debug Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/AimCallback.html">Aim Callback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/supporting_modules/callbacks/token_counting_migration.html">Token Counting - Migration Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/root.html">Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" role="switch" type="checkbox"/><label for="toctree-checkbox-65"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/usage_pattern.html">Usage Pattern (Response Evaluation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/usage_pattern_retrieval.html">Usage Pattern (Retrieval)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/evaluation/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" role="switch" type="checkbox"/><label for="toctree-checkbox-66"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/Deepeval.html">LlamaIndex + DeepEval Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/retrieval/retriever_eval.html">Retrieval Evaluation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/cost_analysis/root.html">Cost Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" role="switch" type="checkbox"/><label for="toctree-checkbox-67"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_modules/supporting_modules/cost_analysis/usage_pattern.html">Usage Pattern</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_modules/supporting_modules/playground/root.html">Playground</a><input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" role="switch" type="checkbox"/><label for="toctree-checkbox-68"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis/PlaygroundDemo.html">Playground</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/contributing.html">Contributing to LlamaIndex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/documentation.html">Documentation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/privacy.html">Privacy and Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/changelog.html">ChangeLog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../community/integrations.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" role="switch" type="checkbox"/><label for="toctree-checkbox-69"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../end_to_end_tutorials/one_click_observability.html">One-Click Observability</a><input class="toctree-checkbox" id="toctree-checkbox-70" name="toctree-checkbox-70" role="switch" type="checkbox"/><label for="toctree-checkbox-70"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb">Arize Phoenix Tracing Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb">Evaluating Search and Retrieval with Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Quickstart Guide with LlamaIndex + TruLens</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Colab</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/HoneyHiveLlamaIndexTracer.html">HoneyHive LlamaIndex Tracer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/graphsignal.html">Tracing with Graphsignal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/deepeval.html">Unit Testing LLMs With DeepEval</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/guidance.html">Guidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../output_parsing/GuardrailsDemo.html">Guardrails</a></li>
<li class="toctree-l2"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Function Calling</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/vector_stores.html">Using Vector Stores</a><input class="toctree-checkbox" id="toctree-checkbox-71" name="toctree-checkbox-71" role="switch" type="checkbox"/><label for="toctree-checkbox-71"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/Elasticsearch_demo.html">Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SimpleIndexDemo.html">Simple Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SimpleIndexDemoMMR.html">Simple Vector Stores - Maximum Marginal Relevance Retrieval</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RedisIndexDemo.html">Redis Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RedisIndexDemo.html#query-the-data">Query the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/RedisIndexDemo.html#working-with-metadata">Working with Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/QdrantIndexDemo.html">Qdrant Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/FaissIndexDemo.html">Faiss Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/DeepLakeIndexDemo.html">DeepLake Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MyScaleIndexDemo.html">MyScale Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MetalIndexDemo.html">Metal Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/WeaviateIndexDemo.html">Weaviate Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ZepIndexDemo.html">Zep Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ZepIndexDemo.html#create-a-zep-vector-store-and-index">Create a Zep Vector Store and Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ZepIndexDemo.html#querying-with-metadata-filters">Querying with Metadata filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/OpensearchDemo.html">Opensearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/PineconeIndexDemo.html">Pinecone Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CassandraIndexDemo.html">Cassandra Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/ChromaIndexDemo.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/EpsillaIndexDemo.html">Epsilla Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/LanceDBIndexDemo.html">LanceDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MilvusIndexDemo.html">Milvus Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/AsyncIndexCreationDemo.html">Simple Vector Store - Async Index Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/SupabaseVectorIndexDemo.html">Supabase Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/DocArrayHnswIndexDemo.html">DocArray Hnsw Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/DocArrayInMemoryIndexDemo.html">DocArray InMemory Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/MongoDBAtlasVectorSearch.html">MongoDB Atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/postgres.html">Postgres Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/AwadbDemo.html">Awadb Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/Neo4jVectorDemo.html">Neo4j vector store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#basic-example">Basic Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#create-index-if-it-does-not-exist">Create Index (if it does not exist)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#use-existing-index">Use Existing Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#adding-a-document-to-existing-index">Adding a document to existing index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/CognitiveSearchIndexDemo.html#filtering">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector_stores/Timescalevector.html">Timescale Vector Store (PostgreSQL)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/graph_stores.html">Using Graph Stores</a><input class="toctree-checkbox" id="toctree-checkbox-72" name="toctree-checkbox-72" role="switch" type="checkbox"/><label for="toctree-checkbox-72"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/Neo4jKGIndexDemo.html">Neo4j Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html">Nebula Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KuzuGraphDemo.html">Kuzu Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/FalkorDBGraphDemo.html">FalkorDB Graph Store</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/managed_indices.html">Using Managed Indices</a><input class="toctree-checkbox" id="toctree-checkbox-73" name="toctree-checkbox-73" role="switch" type="checkbox"/><label for="toctree-checkbox-73"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/using_with_langchain.html">Using with Langchain ðŸ¦œðŸ”—</a></li>
<li class="toctree-l2"><a class="reference external" href="https://blog.streamlit.io/build-a-chatbot-with-custom-data-sources-powered-by-llamaindex/">Streamlit</a></li>
<li class="toctree-l2"><a class="reference external" href="https://docs.chainlit.io/integrations/llama-index">Chainlit</a></li>
<li class="toctree-l2"><a class="reference external" href="https://www.anyscale.com/blog/build-and-scale-a-powerful-query-engine-with-llamaindex-ray">LlamaIndex + Ray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/chatgpt_plugins.html">ChatGPT Plugin Integrations</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/poe-platform/poe-protocol/tree/main/llama_poe">Poe</a></li>
<li class="toctree-l2"><a class="reference external" href="https://airbyte.com/tutorials/airbyte-and-llamaindex-elt-and-chat-with-your-data-warehouse-without-writing-sql">Airbyte</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../community/app_showcase.html">App Showcase</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api_reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-74" name="toctree-checkbox-74" role="switch" type="checkbox"/><label for="toctree-checkbox-74"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/indices.html">Indices</a><input class="toctree-checkbox" id="toctree-checkbox-75" name="toctree-checkbox-75" role="switch" type="checkbox"/><label for="toctree-checkbox-75"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/list.html">Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/table.html">Table Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/tree.html">Tree Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/vector_store.html">Vector Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/struct_store.html">Structured Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/kg.html">Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/empty.html">Empty Index</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/query.html">Querying an Index</a><input class="toctree-checkbox" id="toctree-checkbox-76" name="toctree-checkbox-76" role="switch" type="checkbox"/><label for="toctree-checkbox-76"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/query/retrievers.html">Retrievers</a><input class="toctree-checkbox" id="toctree-checkbox-77" name="toctree-checkbox-77" role="switch" type="checkbox"/><label for="toctree-checkbox-77"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/empty.html">Empty Index Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/kg.html">Knowledge Graph Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/list.html">List Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/table.html">Keyword Table Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/tree.html">Tree Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/vector_store.html">Vector Store Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/transform.html">Transform Retriever</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/query/response_synthesizer.html">Response Synthesizer</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/query/query_engines.html">Query Engines</a><input class="toctree-checkbox" id="toctree-checkbox-78" name="toctree-checkbox-78" role="switch" type="checkbox"/><label for="toctree-checkbox-78"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/graph_query_engine.html">Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/multistep_query_engine.html">Multistep Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/retriever_query_engine.html">Retriever Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/transform_query_engine.html">Transform Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/router_query_engine.html">Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/retriever_router_query_engine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/sql_join_query_engine.html">SQL Join Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/flare_query_engine.html">Flare Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/citation_query_engine.html">Citation Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/sql_query_engine.html">SQL Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/pandas_query_engine.html">Pandas Query Engine</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/query/chat_engines.html">Chat Engines</a><input class="toctree-checkbox" id="toctree-checkbox-79" name="toctree-checkbox-79" role="switch" type="checkbox"/><label for="toctree-checkbox-79"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/chat_engines/simple_chat_engine.html">Simple Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/chat_engines/condense_question_chat_engine.html">Condense Question Chat Engine</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/query/query_bundle.html">Query Bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/query/query_transform.html">Query Transform</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/node.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/llm_predictor.html">LLM Predictors</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/llms.html">LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-80" name="toctree-checkbox-80" role="switch" type="checkbox"/><label for="toctree-checkbox-80"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/openai.html">OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/huggingface.html">HuggingFaceLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/langchain.html">LangChainLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/anthropic.html">Anthropic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/litellm.html">LiteLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/palm.html">PaLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/predibase.html">Predibase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/replicate.html">Replicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/xinference.html">XOrbits Xinference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/prompts.html">Prompt Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#openaiembedding">OpenAIEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#huggingfaceembedding">HuggingFaceEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#optimumembedding">OptimumEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#instructorembedding">InstructorEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#langchainembedding">LangchainEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding">GoogleUnivSentEncoderEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/node_postprocessor.html">Node Postprocessor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/storage.html">Storage Context</a><input class="toctree-checkbox" id="toctree-checkbox-81" name="toctree-checkbox-81" role="switch" type="checkbox"/><label for="toctree-checkbox-81"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/docstore.html">Document Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/index_store.html">Index Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/vector_store.html">Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/kv_store.html">KV Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/indices_save_load.html">Loading Indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/composability.html">Composability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/readers.html">Data Connectors</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/service_context.html">Service Context</a><input class="toctree-checkbox" id="toctree-checkbox-82" name="toctree-checkbox-82" role="switch" type="checkbox"/><label for="toctree-checkbox-82"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html">Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#openaiembedding">OpenAIEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#huggingfaceembedding">HuggingFaceEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#optimumembedding">OptimumEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#instructorembedding">InstructorEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#langchainembedding">LangchainEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding">GoogleUnivSentEncoderEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/node_parser.html">Node Parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/prompt_helper.html">PromptHelper</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/llms.html">LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-83" name="toctree-checkbox-83" role="switch" type="checkbox"/><label for="toctree-checkbox-83"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/openai.html">OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/huggingface.html">HuggingFaceLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/langchain.html">LangChainLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/anthropic.html">Anthropic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/litellm.html">LiteLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/palm.html">PaLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/predibase.html">Predibase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/replicate.html">Replicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/xinference.html">XOrbits Xinference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/callbacks.html">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/struct_store.html">Structured Index Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/evaluation.html">Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/response.html">Response</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/playground.html">Playground</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/finetuning.html">Finetuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/example_notebooks.html">Example Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/langchain_integrations/base.html">Langchain Integrations</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../deprecated_terms.html">Deprecated Terms</a></li>
</ul>

</div>

<div
  id="furo-sidebar-ad-placement"
  class="flat"
  data-ea-publisher="readthedocs"
  data-ea-type="readthedocs-sidebar"
  data-ea-manual="true"
></div>
</div>

<div id="furo-readthedocs-versions" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" tabindex="0">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book">&nbsp;</span>
    v: stable
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="/en/latest/">latest</a></dd>
      
        <dd><a href="/en/stable/">stable</a></dd>
      
        <dd><a href="/en/v0.8.45.post1/">v0.8.45.post1</a></dd>
      
        <dd><a href="/en/v0.8.45/">v0.8.45</a></dd>
      
        <dd><a href="/en/v0.8.44/">v0.8.44</a></dd>
      
        <dd><a href="/en/v0.8.43.post1/">v0.8.43.post1</a></dd>
      
        <dd><a href="/en/v0.8.43/">v0.8.43</a></dd>
      
        <dd><a href="/en/v0.8.42/">v0.8.42</a></dd>
      
        <dd><a href="/en/v0.8.41/">v0.8.41</a></dd>
      
        <dd><a href="/en/v0.8.40/">v0.8.40</a></dd>
      
        <dd><a href="/en/v0.8.39.post2/">v0.8.39.post2</a></dd>
      
        <dd><a href="/en/v0.8.39.post1/">v0.8.39.post1</a></dd>
      
        <dd><a href="/en/v0.8.39/">v0.8.39</a></dd>
      
        <dd><a href="/en/v0.8.38/">v0.8.38</a></dd>
      
        <dd><a href="/en/v0.8.37/">v0.8.37</a></dd>
      
        <dd><a href="/en/v0.8.36/">v0.8.36</a></dd>
      
        <dd><a href="/en/v0.8.35/">v0.8.35</a></dd>
      
        <dd><a href="/en/v0.8.34/">v0.8.34</a></dd>
      
        <dd><a href="/en/v0.8.33/">v0.8.33</a></dd>
      
        <dd><a href="/en/v0.8.32/">v0.8.32</a></dd>
      
        <dd><a href="/en/v0.8.31/">v0.8.31</a></dd>
      
        <dd><a href="/en/v0.8.30/">v0.8.30</a></dd>
      
        <dd><a href="/en/v0.8.29.post1/">v0.8.29.post1</a></dd>
      
        <dd><a href="/en/v0.8.29/">v0.8.29</a></dd>
      
        <dd><a href="/en/v0.8.28/">v0.8.28</a></dd>
      
        <dd><a href="/en/v0.8.27/">v0.8.27</a></dd>
      
        <dd><a href="/en/v0.8.26.post1/">v0.8.26.post1</a></dd>
      
        <dd><a href="/en/v0.8.26/">v0.8.26</a></dd>
      
        <dd><a href="/en/v0.8.25/">v0.8.25</a></dd>
      
        <dd><a href="/en/v0.8.24.post1/">v0.8.24.post1</a></dd>
      
        <dd><a href="/en/v0.8.24/">v0.8.24</a></dd>
      
        <dd><a href="/en/v0.8.23.post1/">v0.8.23.post1</a></dd>
      
        <dd><a href="/en/v0.8.23/">v0.8.23</a></dd>
      
        <dd><a href="/en/v0.8.22/">v0.8.22</a></dd>
      
        <dd><a href="/en/v0.8.21/">v0.8.21</a></dd>
      
        <dd><a href="/en/v0.8.20/">v0.8.20</a></dd>
      
        <dd><a href="/en/v0.8.19/">v0.8.19</a></dd>
      
        <dd><a href="/en/v0.8.18/">v0.8.18</a></dd>
      
        <dd><a href="/en/v0.8.17/">v0.8.17</a></dd>
      
        <dd><a href="/en/v0.8.16/">v0.8.16</a></dd>
      
        <dd><a href="/en/v0.8.15/">v0.8.15</a></dd>
      
        <dd><a href="/en/v0.8.14/">v0.8.14</a></dd>
      
        <dd><a href="/en/v0.8.13/">v0.8.13</a></dd>
      
        <dd><a href="/en/v0.8.12/">v0.8.12</a></dd>
      
        <dd><a href="/en/v0.8.11.post3/">v0.8.11.post3</a></dd>
      
        <dd><a href="/en/v0.8.11.post2/">v0.8.11.post2</a></dd>
      
        <dd><a href="/en/v0.8.11.post1/">v0.8.11.post1</a></dd>
      
        <dd><a href="/en/v0.8.11/">v0.8.11</a></dd>
      
        <dd><a href="/en/v0.8.10.post1/">v0.8.10.post1</a></dd>
      
        <dd><a href="/en/v0.8.10/">v0.8.10</a></dd>
      
        <dd><a href="/en/v0.8.9/">v0.8.9</a></dd>
      
        <dd><a href="/en/v0.8.8/">v0.8.8</a></dd>
      
        <dd><a href="/en/v0.8.7/">v0.8.7</a></dd>
      
        <dd><a href="/en/v0.8.6/">v0.8.6</a></dd>
      
        <dd><a href="/en/v0.8.5.post2/">v0.8.5.post2</a></dd>
      
        <dd><a href="/en/v0.8.5.post1/">v0.8.5.post1</a></dd>
      
        <dd><a href="/en/v0.8.5/">v0.8.5</a></dd>
      
        <dd><a href="/en/v0.8.4/">v0.8.4</a></dd>
      
        <dd><a href="/en/v0.8.3/">v0.8.3</a></dd>
      
        <dd><a href="/en/v0.8.2.post1/">v0.8.2.post1</a></dd>
      
        <dd><a href="/en/v0.8.2/">v0.8.2</a></dd>
      
        <dd><a href="/en/v0.8.1.post1/">v0.8.1.post1</a></dd>
      
        <dd><a href="/en/v0.8.1/">v0.8.1</a></dd>
      
        <dd><a href="/en/v0.8.0/">v0.8.0</a></dd>
      
        <dd><a href="/en/v0.7.24.post1/">v0.7.24.post1</a></dd>
      
        <dd><a href="/en/v0.7.24/">v0.7.24</a></dd>
      
        <dd><a href="/en/v0.7.23.post1/">v0.7.23.post1</a></dd>
      
        <dd><a href="/en/v0.7.23/">v0.7.23</a></dd>
      
        <dd><a href="/en/v0.7.22/">v0.7.22</a></dd>
      
        <dd><a href="/en/v0.7.21/">v0.7.21</a></dd>
      
        <dd><a href="/en/v0.7.20/">v0.7.20</a></dd>
      
        <dd><a href="/en/v0.7.19/">v0.7.19</a></dd>
      
        <dd><a href="/en/v0.7.18/">v0.7.18</a></dd>
      
        <dd><a href="/en/v0.7.17/">v0.7.17</a></dd>
      
        <dd><a href="/en/v0.7.16/">v0.7.16</a></dd>
      
        <dd><a href="/en/v0.7.15/">v0.7.15</a></dd>
      
        <dd><a href="/en/v0.7.14/">v0.7.14</a></dd>
      
        <dd><a href="/en/v0.7.13/">v0.7.13</a></dd>
      
        <dd><a href="/en/v0.7.12/">v0.7.12</a></dd>
      
        <dd><a href="/en/v0.7.11.post1/">v0.7.11.post1</a></dd>
      
        <dd><a href="/en/v0.7.11/">v0.7.11</a></dd>
      
        <dd><a href="/en/v0.7.10.post1/">v0.7.10.post1</a></dd>
      
        <dd><a href="/en/v0.7.10/">v0.7.10</a></dd>
      
        <dd><a href="/en/v0.7.9/">v0.7.9</a></dd>
      
        <dd><a href="/en/v0.7.8/">v0.7.8</a></dd>
      
        <dd><a href="/en/v0.7.7/">v0.7.7</a></dd>
      
        <dd><a href="/en/v0.7.6/">v0.7.6</a></dd>
      
        <dd><a href="/en/v0.7.5/">v0.7.5</a></dd>
      
        <dd><a href="/en/v0.7.4/">v0.7.4</a></dd>
      
        <dd><a href="/en/v0.7.3/">v0.7.3</a></dd>
      
        <dd><a href="/en/v0.7.2/">v0.7.2</a></dd>
      
        <dd><a href="/en/v0.7.1/">v0.7.1</a></dd>
      
        <dd><a href="/en/v0.7.0/">v0.7.0</a></dd>
      
        <dd><a href="/en/v0.6.38.post1/">v0.6.38.post1</a></dd>
      
        <dd><a href="/en/v0.6.38/">v0.6.38</a></dd>
      
        <dd><a href="/en/v0.6.37/">v0.6.37</a></dd>
      
        <dd><a href="/en/v0.6.36/">v0.6.36</a></dd>
      
        <dd><a href="/en/v0.6.35/">v0.6.35</a></dd>
      
        <dd><a href="/en/v0.6.34.post1/">v0.6.34.post1</a></dd>
      
        <dd><a href="/en/v0.6.34/">v0.6.34</a></dd>
      
        <dd><a href="/en/v0.6.33/">v0.6.33</a></dd>
      
        <dd><a href="/en/v0.6.32/">v0.6.32</a></dd>
      
        <dd><a href="/en/v0.6.31/">v0.6.31</a></dd>
      
        <dd><a href="/en/v0.6.30/">v0.6.30</a></dd>
      
        <dd><a href="/en/v0.6.29/">v0.6.29</a></dd>
      
        <dd><a href="/en/v0.6.28/">v0.6.28</a></dd>
      
        <dd><a href="/en/v0.6.27/">v0.6.27</a></dd>
      
        <dd><a href="/en/v0.6.26/">v0.6.26</a></dd>
      
        <dd><a href="/en/v0.6.25.post1/">v0.6.25.post1</a></dd>
      
        <dd><a href="/en/v0.6.25/">v0.6.25</a></dd>
      
        <dd><a href="/en/v0.6.24/">v0.6.24</a></dd>
      
        <dd><a href="/en/v0.6.23/">v0.6.23</a></dd>
      
        <dd><a href="/en/v0.6.22/">v0.6.22</a></dd>
      
        <dd><a href="/en/v0.6.21.post1/">v0.6.21.post1</a></dd>
      
        <dd><a href="/en/v0.6.21/">v0.6.21</a></dd>
      
        <dd><a href="/en/v0.6.20/">v0.6.20</a></dd>
      
        <dd><a href="/en/v0.6.19/">v0.6.19</a></dd>
      
        <dd><a href="/en/v0.6.18/">v0.6.18</a></dd>
      
        <dd><a href="/en/v0.6.17/">v0.6.17</a></dd>
      
        <dd><a href="/en/v0.6.16.post1/">v0.6.16.post1</a></dd>
      
        <dd><a href="/en/v0.6.16/">v0.6.16</a></dd>
      
        <dd><a href="/en/v0.6.15/">v0.6.15</a></dd>
      
        <dd><a href="/en/v0.6.14/">v0.6.14</a></dd>
      
        <dd><a href="/en/v0.6.13/">v0.6.13</a></dd>
      
        <dd><a href="/en/v0.6.12/">v0.6.12</a></dd>
      
        <dd><a href="/en/v0.6.11/">v0.6.11</a></dd>
      
        <dd><a href="/en/v0.6.10.post1/">v0.6.10.post1</a></dd>
      
        <dd><a href="/en/v0.6.10/">v0.6.10</a></dd>
      
        <dd><a href="/en/v0.6.9/">v0.6.9</a></dd>
      
        <dd><a href="/en/v0.6.8/">v0.6.8</a></dd>
      
        <dd><a href="/en/v0.6.7/">v0.6.7</a></dd>
      
        <dd><a href="/en/v0.6.6/">v0.6.6</a></dd>
      
        <dd><a href="/en/v0.6.5/">v0.6.5</a></dd>
      
        <dd><a href="/en/v0.6.4/">v0.6.4</a></dd>
      
        <dd><a href="/en/v0.6.3/">v0.6.3</a></dd>
      
        <dd><a href="/en/v0.6.2/">v0.6.2</a></dd>
      
        <dd><a href="/en/v0.6.1/">v0.6.1</a></dd>
      
        <dd><a href="/en/v0.6.0/">v0.6.0</a></dd>
      
        <dd><a href="/en/v0.5.27/">v0.5.27</a></dd>
      
    </dl>
    <dl>
      <dt>Downloads</dt>
      
    </dl>
    <dl>
      
      <dt>On Read the Docs</dt>
        <dd>
          <a href="//readthedocs.org/projects/gpt-index/?fromdocs=gpt-index">Project Home</a>
        </dd>
        <dd>
          <a href="//readthedocs.org/builds/gpt-index/?fromdocs=gpt-index">Builds</a>
        </dd>
    </dl>
  </div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

  
  <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/jerryjliu/gpt_index/edit/3147cfc891e9b3738bcfcd7cac7dce6e23588123/docs/examples/agent/multi_document_agents.ipynb" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="multi-document-agents">
<h1>Multi-Document Agents<a class="headerlink" href="#multi-document-agents" title="Permalink to this heading">ïƒ</a></h1>
<p>In this guide, you learn towards setting up an agent that can effectively answer different types of questions over a larger set of documents.</p>
<p>These questions include the following</p>
<ul class="simple">
<li><p>QA over a specific doc</p></li>
<li><p>QA comparing different docs</p></li>
<li><p>Summaries over a specific odc</p></li>
<li><p>Comparing summaries between different docs</p></li>
</ul>
<p>We do this with the following architecture:</p>
<ul class="simple">
<li><p>setup a â€œdocument agentâ€ over each Document: each doc agent can do QA/summarization within its doc</p></li>
<li><p>setup a top-level agent over this set of document agents. Do tool retrieval and then do CoT over the set of tools to answer a question.</p></li>
</ul>
<div class="section" id="setup-and-download-data">
<h2>Setup and Download Data<a class="headerlink" href="#setup-and-download-data" title="Permalink to this heading">ïƒ</a></h2>
<p>In this section, weâ€™ll define imports and then download Wikipedia articles about different cities. Each article is stored separately.</p>
<p>We load in 18 cities - this is not quite at the level of â€œhundredsâ€ of documents but its still large enough to warrant some top-level document retrieval!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">VectorStoreIndex</span><span class="p">,</span>
    <span class="n">SummaryIndex</span><span class="p">,</span>
    <span class="n">SimpleKeywordTableIndex</span><span class="p">,</span>
    <span class="n">SimpleDirectoryReader</span><span class="p">,</span>
    <span class="n">ServiceContext</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">llama_index.schema</span> <span class="kn">import</span> <span class="n">IndexNode</span>
<span class="kn">from</span> <span class="nn">llama_index.tools</span> <span class="kn">import</span> <span class="n">QueryEngineTool</span><span class="p">,</span> <span class="n">ToolMetadata</span>
<span class="kn">from</span> <span class="nn">llama_index.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wiki_titles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Toronto&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Seattle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Chicago&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Boston&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Houston&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tokyo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Berlin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Lisbon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Paris&quot;</span><span class="p">,</span>
    <span class="s2">&quot;London&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Atlanta&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Munich&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Shanghai&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Beijing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Copenhagen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Moscow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Cairo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Karachi&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">for</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">wiki_titles</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://en.wikipedia.org/w/api.php&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;query&quot;</span><span class="p">,</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;titles&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
            <span class="s2">&quot;prop&quot;</span><span class="p">:</span> <span class="s2">&quot;extracts&quot;</span><span class="p">,</span>
            <span class="c1"># &#39;exintro&#39;: True,</span>
            <span class="s2">&quot;explaintext&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">page</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">][</span><span class="s2">&quot;pages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
    <span class="n">wiki_text</span> <span class="o">=</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;extract&quot;</span><span class="p">]</span>

    <span class="n">data_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">data_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">Path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">data_path</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">data_path</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">wiki_text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load all wiki documents</span>
<span class="n">city_docs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">wiki_title</span> <span class="ow">in</span> <span class="n">wiki_titles</span><span class="p">:</span>
    <span class="n">city_docs</span><span class="p">[</span><span class="n">wiki_title</span><span class="p">]</span> <span class="o">=</span> <span class="n">SimpleDirectoryReader</span><span class="p">(</span>
        <span class="n">input_files</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;data/</span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">.txt&quot;</span><span class="p">]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Define LLM + Service Context + Callback Manager</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="p">)</span>
<span class="n">service_context</span> <span class="o">=</span> <span class="n">ServiceContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="building-multi-document-agents">
<h2>Building Multi-Document Agents<a class="headerlink" href="#building-multi-document-agents" title="Permalink to this heading">ïƒ</a></h2>
<p>In this section we show you how to construct the multi-document agent. We first build a document agent for each document, and then define the top-level parent agent with an object index.</p>
<div class="section" id="build-document-agent-for-each-document">
<h3>Build Document Agent for each Document<a class="headerlink" href="#build-document-agent-for-each-document" title="Permalink to this heading">ïƒ</a></h3>
<p>In this section we define â€œdocument agentsâ€ for each document.</p>
<p>We define both a vector index (for semantic search) and summary index (for summarization) for each document. The two query engines are then converted into tools that are passed to an OpenAI function calling agent.</p>
<p>This document agent can dynamically choose to perform semantic search or summarization within a given document.</p>
<p>We create a separate document agent for each city.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.agent</span> <span class="kn">import</span> <span class="n">OpenAIAgent</span>
<span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">load_index_from_storage</span><span class="p">,</span> <span class="n">StorageContext</span>
<span class="kn">from</span> <span class="nn">llama_index.node_parser</span> <span class="kn">import</span> <span class="n">SimpleNodeParser</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">node_parser</span> <span class="o">=</span> <span class="n">SimpleNodeParser</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">()</span>

<span class="c1"># Build agents dictionary</span>
<span class="n">agents</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">query_engines</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># this is for the baseline</span>
<span class="n">all_nodes</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">wiki_title</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wiki_titles</span><span class="p">):</span>
    <span class="n">nodes</span> <span class="o">=</span> <span class="n">node_parser</span><span class="o">.</span><span class="n">get_nodes_from_documents</span><span class="p">(</span><span class="n">city_docs</span><span class="p">[</span><span class="n">wiki_title</span><span class="p">])</span>
    <span class="n">all_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;./data/</span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="c1"># build vector index</span>
        <span class="n">vector_index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">service_context</span><span class="o">=</span><span class="n">service_context</span><span class="p">)</span>
        <span class="n">vector_index</span><span class="o">.</span><span class="n">storage_context</span><span class="o">.</span><span class="n">persist</span><span class="p">(</span><span class="n">persist_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;./data/</span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vector_index</span> <span class="o">=</span> <span class="n">load_index_from_storage</span><span class="p">(</span>
            <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">persist_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;./data/</span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">service_context</span><span class="o">=</span><span class="n">service_context</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># build summary index</span>
    <span class="n">summary_index</span> <span class="o">=</span> <span class="n">SummaryIndex</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">service_context</span><span class="o">=</span><span class="n">service_context</span><span class="p">)</span>
    <span class="c1"># define query engines</span>
    <span class="n">vector_query_engine</span> <span class="o">=</span> <span class="n">vector_index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">()</span>
    <span class="n">summary_query_engine</span> <span class="o">=</span> <span class="n">summary_index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">()</span>

    <span class="c1"># define tools</span>
    <span class="n">query_engine_tools</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">QueryEngineTool</span><span class="p">(</span>
            <span class="n">query_engine</span><span class="o">=</span><span class="n">vector_query_engine</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">ToolMetadata</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vector_tool&quot;</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Useful for questions related to specific aspects of </span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2"> (e.g. the history, arts and culture, sports, demographics, or more).&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">),</span>
        <span class="n">QueryEngineTool</span><span class="p">(</span>
            <span class="n">query_engine</span><span class="o">=</span><span class="n">summary_query_engine</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">ToolMetadata</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;summary_tool&quot;</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Useful for any requests that require a holistic summary of EVERYTHING about </span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">. For questions about more specific sections, please use the vector_tool.&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">),</span>
    <span class="p">]</span>

    <span class="c1"># build agent</span>
    <span class="n">function_llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4&quot;</span><span class="p">)</span>
    <span class="n">agent</span> <span class="o">=</span> <span class="n">OpenAIAgent</span><span class="o">.</span><span class="n">from_tools</span><span class="p">(</span>
        <span class="n">query_engine_tools</span><span class="p">,</span>
        <span class="n">llm</span><span class="o">=</span><span class="n">function_llm</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">system_prompt</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">You are a specialized agent designed to answer queries about </span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">You must ALWAYS use at least one of the tools provided when answering a question; do NOT rely on prior knowledge.</span><span class="se">\</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">agents</span><span class="p">[</span><span class="n">wiki_title</span><span class="p">]</span> <span class="o">=</span> <span class="n">agent</span>
    <span class="n">query_engines</span><span class="p">[</span><span class="n">wiki_title</span><span class="p">]</span> <span class="o">=</span> <span class="n">vector_index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="build-retriever-enabled-openai-agent">
<h3>Build Retriever-Enabled OpenAI Agent<a class="headerlink" href="#build-retriever-enabled-openai-agent" title="Permalink to this heading">ïƒ</a></h3>
<p>We build a top-level agent that can orchestrate across the different document agents to answer any user query.</p>
<p>This agent takes in all document agents as tools. This specific agent <code class="docutils literal notranslate"><span class="pre">RetrieverOpenAIAgent</span></code> performs tool retrieval before tool use (unlike a default agent that tries to put all tools in the prompt).</p>
<p>Here we use a top-k retriever, but we encourage you to customize the tool retriever method!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define tool for each document agent</span>
<span class="n">all_tools</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">wiki_title</span> <span class="ow">in</span> <span class="n">wiki_titles</span><span class="p">:</span>
    <span class="n">wiki_summary</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;This content contains Wikipedia articles about </span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">. &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Use this tool if you want to answer any questions about </span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="n">doc_tool</span> <span class="o">=</span> <span class="n">QueryEngineTool</span><span class="p">(</span>
        <span class="n">query_engine</span><span class="o">=</span><span class="n">agents</span><span class="p">[</span><span class="n">wiki_title</span><span class="p">],</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">ToolMetadata</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;tool_</span><span class="si">{</span><span class="n">wiki_title</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">wiki_summary</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">all_tools</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">doc_tool</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define an &quot;object&quot; index and retriever over these tools</span>
<span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">VectorStoreIndex</span>
<span class="kn">from</span> <span class="nn">llama_index.objects</span> <span class="kn">import</span> <span class="n">ObjectIndex</span><span class="p">,</span> <span class="n">SimpleToolNodeMapping</span>

<span class="n">tool_mapping</span> <span class="o">=</span> <span class="n">SimpleToolNodeMapping</span><span class="o">.</span><span class="n">from_objects</span><span class="p">(</span><span class="n">all_tools</span><span class="p">)</span>
<span class="n">obj_index</span> <span class="o">=</span> <span class="n">ObjectIndex</span><span class="o">.</span><span class="n">from_objects</span><span class="p">(</span>
    <span class="n">all_tools</span><span class="p">,</span>
    <span class="n">tool_mapping</span><span class="p">,</span>
    <span class="n">VectorStoreIndex</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.agent</span> <span class="kn">import</span> <span class="n">FnRetrieverOpenAIAgent</span>

<span class="n">top_agent</span> <span class="o">=</span> <span class="n">FnRetrieverOpenAIAgent</span><span class="o">.</span><span class="n">from_retriever</span><span class="p">(</span>
    <span class="n">obj_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;&quot;&quot; </span><span class="se">\</span>
<span class="s2">You are an agent designed to answer queries about a set of given cities.</span>
<span class="s2">Please always use the tools provided to answer a question. Do not rely on prior knowledge.</span><span class="se">\</span>

<span class="s2">&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="define-baseline-vector-store-index">
<h3>Define Baseline Vector Store Index<a class="headerlink" href="#define-baseline-vector-store-index" title="Permalink to this heading">ïƒ</a></h3>
<p>As a point of comparison, we define a â€œnaiveâ€ RAG pipeline which dumps all docs into a single vector index collection.</p>
<p>We set the top_k = 4</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">)</span>
<span class="n">base_query_engine</span> <span class="o">=</span> <span class="n">base_index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="running-example-queries">
<h2>Running Example Queries<a class="headerlink" href="#running-example-queries" title="Permalink to this heading">ïƒ</a></h2>
<p>Letâ€™s run some example queries, ranging from QA / summaries over a single document to QA / summarization over multiple documents.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># should use Boston agent -&gt; vector tool</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">top_agent</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;Tell me about the arts and culture in Boston&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Calling Function ===
Calling function: tool_Boston with args: {
  &quot;input&quot;: &quot;arts and culture&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;arts and culture&quot;
}
Got output: Boston is known for its vibrant arts and culture scene. The city is home to a number of performing arts organizations, including the Boston Ballet, Boston Lyric Opera Company, Opera Boston, Boston Baroque, and the Handel and Haydn Society. There are also several theaters in or near the Theater District, such as the Cutler Majestic Theatre, Citi Performing Arts Center, the Colonial Theater, and the Orpheum Theatre. Boston is a center for contemporary classical music, with groups like the Boston Modern Orchestra Project and Boston Musica Viva. The city also hosts major annual events, such as First Night, the Boston Early Music Festival, and the Boston Arts Festival. In addition, Boston has several art museums and galleries, including the Museum of Fine Arts, the Isabella Stewart Gardner Museum, and the Institute of Contemporary Art.
========================
Got output: Boston is renowned for its vibrant arts and culture scene. It is home to numerous performing arts organizations, including the Boston Ballet, Boston Lyric Opera Company, Opera Boston, Boston Baroque, and the Handel and Haydn Society. The city&#39;s Theater District houses several theaters, such as the Cutler Majestic Theatre, Citi Performing Arts Center, the Colonial Theater, and the Orpheum Theatre.

Boston is also a hub for contemporary classical music, with groups like the Boston Modern Orchestra Project and Boston Musica Viva. The city hosts major annual events, such as First Night, the Boston Early Music Festival, and the Boston Arts Festival, which contribute to its cultural richness.

In terms of visual arts, Boston boasts several art museums and galleries. The Museum of Fine Arts, the Isabella Stewart Gardner Museum, and the Institute of Contemporary Art are among the most notable. These institutions offer a wide range of art collections, from ancient to contemporary, attracting art enthusiasts from around the world.
========================
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Boston has a rich arts and culture scene, with a variety of performing arts organizations and venues. The city is home to renowned institutions such as the Boston Ballet, Boston Lyric Opera Company, Opera Boston, Boston Baroque, and the Handel and Haydn Society. The Theater District in Boston is a hub for theatrical performances, with theaters like the Cutler Majestic Theatre, Citi Performing Arts Center, Colonial Theater, and Orpheum Theatre.

In addition to performing arts, Boston also has a thriving contemporary classical music scene, with groups like the Boston Modern Orchestra Project and Boston Musica Viva. The city hosts several annual events that celebrate the arts, including First Night, the Boston Early Music Festival, and the Boston Arts Festival.

Boston is also known for its visual arts scene, with a number of art museums and galleries. The Museum of Fine Arts, the Isabella Stewart Gardner Museum, and the Institute of Contemporary Art are among the notable institutions in the city. These museums offer a diverse range of art collections, spanning from ancient to contemporary art, and attract art enthusiasts from around the world.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># baseline</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">base_query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;Tell me about the arts and culture in Boston&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Boston has a rich arts and culture scene. The city is home to a variety of performing arts organizations, such as the Boston Ballet, Boston Lyric Opera Company, Opera Boston, Boston Baroque, and the Handel and Haydn Society. Additionally, there are numerous contemporary classical music groups associated with the city&#39;s conservatories and universities, like the Boston Modern Orchestra Project and Boston Musica Viva. The Theater District in Boston is a hub for theater, with notable venues including the Cutler Majestic Theatre, Citi Performing Arts Center, the Colonial Theater, and the Orpheum Theatre. Boston also hosts several significant annual events, including First Night, the Boston Early Music Festival, the Boston Arts Festival, and the Boston gay pride parade and festival. The city is renowned for its historic sites connected to the American Revolution, as well as its art museums and galleries, such as the Museum of Fine Arts, Isabella Stewart Gardner Museum, and the Institute of Contemporary Art.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># should use Houston agent -&gt; vector tool</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">top_agent</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;Give me a summary of all the positive aspects of Houston&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Calling Function ===
Calling function: tool_Houston with args: {
  &quot;input&quot;: &quot;positive aspects&quot;
}
=== Calling Function ===
Calling function: summary_tool with args: {
  &quot;input&quot;: &quot;positive aspects&quot;
}
Got output: Houston has many positive aspects that make it an attractive place to live and visit. The city&#39;s diverse population, with people from different ethnic and religious backgrounds, adds to its cultural richness and inclusiveness. Additionally, Houston is home to the Texas Medical Center, which is the largest concentration of healthcare and research institutions in the world. The presence of NASA&#39;s Johnson Space Center also highlights Houston&#39;s importance in the fields of medicine and space exploration. The city&#39;s strong economy, supported by industries such as energy, manufacturing, aeronautics, and transportation, provides numerous economic opportunities for residents and visitors alike. Furthermore, Houston has a thriving visual and performing arts scene, including a theater district and a variety of museums and galleries. Overall, Houston&#39;s diverse community, cultural attractions, and economic prospects make it an exceptionally appealing city.
========================
Got output: Houston has numerous positive aspects that make it a desirable place to live and visit. Some of these include:

1. **Diversity**: Houston is known for its diverse population, with people from different ethnic and religious backgrounds. This diversity adds to the city&#39;s cultural richness and inclusiveness.

2. **Healthcare and Research Institutions**: The city is home to the Texas Medical Center, the largest concentration of healthcare and research institutions in the world. This makes Houston a hub for medical innovation and healthcare services.

3. **Space Exploration**: Houston is also known for NASA&#39;s Johnson Space Center, highlighting the city&#39;s significant role in space exploration.

4. **Strong Economy**: Houston&#39;s economy is robust and diverse, supported by industries such as energy, manufacturing, aeronautics, and transportation. This provides numerous economic opportunities for its residents.

5. **Arts and Culture**: The city has a thriving visual and performing arts scene, with a theater district and a variety of museums and galleries. This makes Houston a vibrant place for art lovers and creatives.

Overall, these aspects contribute to making Houston an appealing and dynamic city.
========================
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Houston has numerous positive aspects that make it a desirable place to live and visit. Some of these include:

1. Diversity: Houston is known for its diverse population, with people from different ethnic and religious backgrounds. This diversity adds to the city&#39;s cultural richness and inclusiveness.

2. Healthcare and Research Institutions: The city is home to the Texas Medical Center, the largest concentration of healthcare and research institutions in the world. This makes Houston a hub for medical innovation and healthcare services.

3. Space Exploration: Houston is also known for NASA&#39;s Johnson Space Center, highlighting the city&#39;s significant role in space exploration.

4. Strong Economy: Houston&#39;s economy is robust and diverse, supported by industries such as energy, manufacturing, aeronautics, and transportation. This provides numerous economic opportunities for its residents.

5. Arts and Culture: The city has a thriving visual and performing arts scene, with a theater district and a variety of museums and galleries. This makes Houston a vibrant place for art lovers and creatives.

Overall, these aspects contribute to making Houston an appealing and dynamic city.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># baseline</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">base_query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Give me a summary of all the positive aspects of Houston&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Houston has several positive aspects that contribute to its reputation as a thriving city. It is home to a diverse and growing international community, with a large number of foreign banks and consular offices representing 92 countries. The city has received numerous accolades, including being ranked as one of the best cities for employment, college graduates, and homebuyers. Houston has a strong economy, with a broad industrial base in sectors such as energy, manufacturing, aeronautics, and healthcare. It is also a major center for the oil and gas industry and has the second-most Fortune 500 headquarters in the United States. The city&#39;s cultural scene is vibrant, with a variety of annual events celebrating different cultures, as well as a reputation for diverse and excellent food. Houston is known for its world-class museums and performing arts scene. Additionally, the city has made significant investments in renewable energy sources like wind and solar. Overall, Houston offers a high quality of life, reasonable living costs, and abundant employment opportunities.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># baseline: the response doesn&#39;t quite match the sources...</span>
<span class="n">response</span><span class="o">.</span><span class="n">source_nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_content</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">top_agent</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Tell the demographics of Houston, and then compare that with the demographics of Chicago&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Calling Function ===
Calling function: tool_Houston with args: {
  &quot;input&quot;: &quot;demographics&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;demographics&quot;
}
Got output: Houston is a majority-minority city with a diverse population. According to the U.S. Census Bureau, in 2019, non-Hispanic whites made up 23.3% of the population, Hispanics and Latino Americans 45.8%, Blacks or African Americans 22.4%, and Asian Americans 6.5%. The largest Hispanic or Latino American ethnic group in the city is Mexican Americans, followed by Puerto Ricans and Cuban Americans. Houston is also home to the largest African American community west of the Mississippi River. Additionally, Houston has a growing Muslim population, with Muslims estimated to make up 1.2% of the city&#39;s population. The city is known for its LGBT community and is home to one of the largest pride parades in the United States. The Hindu, Sikh, and Buddhist communities are also growing in Houston. Overall, Houston is considered one of the most ethnically and culturally diverse metropolitan areas in the country.
========================
Got output: Houston is a majority-minority city with a diverse population. According to the U.S. Census Bureau, in 2019, non-Hispanic whites made up 23.3% of the population, Hispanics and Latino Americans 45.8%, Blacks or African Americans 22.4%, and Asian Americans 6.5%. The largest Hispanic or Latino American ethnic group in the city is Mexican Americans, followed by Puerto Ricans and Cuban Americans. 

Houston is also home to the largest African American community west of the Mississippi River. Additionally, Houston has a growing Muslim population, with Muslims estimated to make up 1.2% of the city&#39;s population. The city is known for its LGBT community and is home to one of the largest pride parades in the United States. The Hindu, Sikh, and Buddhist communities are also growing in Houston. 

Overall, Houston is considered one of the most ethnically and culturally diverse metropolitan areas in the country.
========================
=== Calling Function ===
Calling function: tool_Chicago with args: {
  &quot;input&quot;: &quot;demographics&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;demographics&quot;
}
Got output: Chicago has a diverse demographic makeup. It experienced rapid population growth during its early years, becoming one of the fastest-growing cities in the world. Waves of immigrants from various European countries, as well as African Americans from the American South, contributed to the city&#39;s population growth. Over time, Chicago&#39;s population has fluctuated, with a decline in the latter half of the 20th century followed by a rise in recent years. As of the latest census estimates, the largest racial or ethnic groups in Chicago are non-Hispanic White, Black, and Hispanic. Additionally, Chicago has a significant LGBT population and is known for its cultural diversity.
========================
Got output: Chicago is known for its diverse demographic makeup. The city experienced rapid population growth during its early years, with immigrants from various European countries and African Americans from the American South contributing significantly to this growth. Over time, the population has fluctuated, with a decline in the latter half of the 20th century followed by a rise in recent years. 

As per the latest census estimates, the largest racial or ethnic groups in Chicago are non-Hispanic White, Black, and Hispanic. The city also has a significant LGBT population and is celebrated for its cultural diversity.
========================
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Houston has a diverse population with a demographic makeup that includes non-Hispanic whites (23.3%), Hispanics and Latino Americans (45.8%), Blacks or African Americans (22.4%), and Asian Americans (6.5%). The largest Hispanic or Latino American ethnic group in Houston is Mexican Americans. Houston is also home to the largest African American community west of the Mississippi River and has a growing Muslim population.

On the other hand, Chicago is also known for its diverse demographics. The city has a significant non-Hispanic White population, along with a substantial Black population and Hispanic population. Chicago is celebrated for its cultural diversity and has a significant LGBT population.

Both Houston and Chicago have diverse populations, with a mix of different racial and ethnic groups contributing to their vibrant communities.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># baseline</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">base_query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Tell the demographics of Houston, and then compare that with the demographics of Chicago&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Houston is the most populous city in Texas and the fourth-most populous city in the United States. It has a population of 2,304,580 as of the 2020 U.S. census. The city is known for its diversity, with a significant proportion of minorities. In 2019, non-Hispanic whites made up 23.3% of the population, Hispanics and Latino Americans 45.8%, Blacks or African Americans 22.4%, and Asian Americans 6.5%. The largest Hispanic or Latino American ethnic group in Houston is Mexican Americans, comprising 31.6% of the population.

In comparison, Chicago is the third-most populous city in the United States. According to the 2020 U.S. census, Chicago has a population of 2,746,388. The demographics of Chicago are different from Houston, with non-Hispanic whites making up 32.7% of the population, Hispanics and Latino Americans 29.9%, Blacks or African Americans 29.8%, and Asian Americans 7.6%. The largest Hispanic or Latino American ethnic group in Chicago is Mexican Americans, comprising 21.6% of the population.

Overall, both Houston and Chicago have diverse populations, but the specific demographic composition differs between the two cities.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># baseline: the response tells you nothing about Chicago...</span>
<span class="n">response</span><span class="o">.</span><span class="n">source_nodes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">get_content</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">top_agent</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Tell me the differences between Shanghai and Beijing in terms of history and current economy&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Calling Function ===
Calling function: tool_Shanghai with args: {
  &quot;input&quot;: &quot;history&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;history&quot;
}
Got output: Shanghai has a rich history that dates back to ancient times. However, in the context provided, the history of Shanghai is mainly discussed in relation to its modern development. After the war, Shanghai&#39;s economy experienced significant growth, with increased agricultural and industrial output. The city&#39;s administrative divisions were rearranged, and it became a center for radical leftism during the 1950s and 1960s. The Cultural Revolution had a severe impact on Shanghai&#39;s society, but the city maintained economic production with a positive growth rate. Shanghai also played a significant role in China&#39;s Third Front campaign and has been a major contributor of tax revenue to the central government. Economic reforms were initiated in Shanghai in 1990, leading to the development of the Pudong district and its classification as an Alpha+ city.
========================
Got output: Shanghai&#39;s history is rich and complex, dating back to ancient times. However, its modern development is particularly noteworthy. After the war, Shanghai experienced significant economic growth, with a boost in both agricultural and industrial output. The city&#39;s administrative divisions were restructured, and it became a hub for radical leftism during the 1950s and 1960s.

The Cultural Revolution had a profound impact on Shanghai&#39;s society, but despite this, the city managed to maintain economic production with a positive growth rate. Shanghai also played a significant role in China&#39;s Third Front campaign and has been a major contributor of tax revenue to the central government.

In 1990, economic reforms were initiated in Shanghai, leading to the development of the Pudong district. This has helped Shanghai to be classified as an Alpha+ city, indicating its influence on the global economic stage.
========================
=== Calling Function ===
Calling function: tool_Beijing with args: {
  &quot;input&quot;: &quot;history&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;history&quot;
}
Got output: Beijing has a rich history that spans several dynasties. It was the capital of the Ming dynasty, during which the city took its current shape and many of its major attractions, such as the Forbidden City and the Temple of Heaven, were constructed. The Qing dynasty succeeded the Ming dynasty and made Beijing its sole capital. During this time, the Imperial residence and the general layout of the city remained largely unchanged. However, the city faced challenges during the Second Opium War and the Boxer Rebellion, resulting in the looting and destruction of important structures. In the early 20th century, Beijing saw the signing of a peace agreement between the Eight-Nation Alliance and the Chinese government, which led to the restoration of Qing dynasty rule. However, the dynasty eventually collapsed in 1911.
========================
Got output: Beijing has a rich and complex history that spans several dynasties. It served as the capital during the Ming dynasty, during which the city took its current shape and many of its major attractions, such as the Forbidden City and the Temple of Heaven, were constructed. The Qing dynasty succeeded the Ming dynasty and made Beijing its sole capital. During this time, the Imperial residence and the general layout of the city remained largely unchanged.

However, the city faced significant challenges during the Second Opium War and the Boxer Rebellion, which resulted in the looting and destruction of important structures. In the early 20th century, Beijing saw the signing of a peace agreement between the Eight-Nation Alliance and the Chinese government, leading to the restoration of Qing dynasty rule. However, the dynasty eventually collapsed in 1911. Despite these tumultuous events, Beijing has managed to preserve its historical heritage while also evolving into a modern metropolis.
========================
=== Calling Function ===
Calling function: tool_Shanghai with args: {
  &quot;input&quot;: &quot;current economy&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;current economy&quot;
}
Got output: The current economy of Shanghai is strong and thriving. It is a global center for finance and innovation, and a national center for commerce, trade, and transportation. The city has a diverse economy, with its six largest industries comprising about half of its GDP. Shanghai has experienced rapid development and has been one of the fastest-developing cities in the world. It has recorded double-digit GDP growth in almost every year between 1992 and 2008. As of 2021, Shanghai had a GDP of CNÂ¥4.46 trillion ($1.106 trillion in PPP), making it one of the wealthiest cities in China. It is also the most expensive city in mainland China to live in. Shanghai is a major player in the global financial industry, ranking first in Asia and third globally in the Global Financial Centres Index. It is home to the Shanghai Stock Exchange, the largest stock exchange in China and the fourth-largest in the world. The city has attracted significant foreign investment and has been a hub for the technology industry and startups. Overall, the current economy of Shanghai is robust and continues to grow.
========================
Got output: The current economy of Shanghai is robust and thriving. It is a global center for finance and innovation, and a national center for commerce, trade, and transportation. The city has a diverse economy, with its six largest industries comprising about half of its GDP. 

Shanghai has experienced rapid development and has been one of the fastest-developing cities in the world. It has recorded double-digit GDP growth in almost every year between 1992 and 2008. As of 2021, Shanghai had a GDP of CNÂ¥4.46 trillion ($1.106 trillion in PPP), making it one of the wealthiest cities in China. 

Shanghai is also the most expensive city in mainland China to live in. It is a major player in the global financial industry, ranking first in Asia and third globally in the Global Financial Centres Index. The city is home to the Shanghai Stock Exchange, the largest stock exchange in China and the fourth-largest in the world. 

The city has attracted significant foreign investment and has been a hub for the technology industry and startups. Overall, the current economy of Shanghai is robust and continues to grow.
========================
=== Calling Function ===
Calling function: tool_Beijing with args: {
  &quot;input&quot;: &quot;current economy&quot;
}
=== Calling Function ===
Calling function: vector_tool with args: {
  &quot;input&quot;: &quot;current economy&quot;
}
Got output: The current economy of Beijing is dominated by the tertiary sector, which includes services such as professional services, wholesale and retail, information technology, commercial real estate, scientific research, and residential real estate. This sector generated 83.8% of the city&#39;s output in 2022. The secondary sector, which includes manufacturing and construction, accounted for 15.8% of output, while the primary sector, which includes agriculture and mining, contributed only 0.26%. The city has also identified six high-end economic output zones that are driving local economic growth, including Zhongguancun, Beijing Financial Street, Beijing Central Business District (CBD), Beijing Economic and Technological Development Area (Yizhuang), Beijing Airport Economic Zone, and Beijing Olympic Center Zone. These zones are home to various industries and sectors, such as technology companies, financial institutions, office buildings, industrial parks, and entertainment and sports centers.
========================
Got output: The current economy of Beijing is primarily driven by the tertiary sector, which includes services such as professional services, wholesale and retail, information technology, commercial real estate, scientific research, and residential real estate. This sector generated 83.8% of the city&#39;s output in 2022. The secondary sector, which includes manufacturing and construction, accounted for 15.8% of output, while the primary sector, which includes agriculture and mining, contributed only 0.26%.

Beijing has also identified six high-end economic output zones that are driving local economic growth. These include Zhongguancun, Beijing Financial Street, Beijing Central Business District (CBD), Beijing Economic and Technological Development Area (Yizhuang), Beijing Airport Economic Zone, and Beijing Olympic Center Zone. These zones are home to various industries and sectors, such as technology companies, financial institutions, office buildings, industrial parks, and entertainment and sports centers.
========================
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>In terms of history, both Shanghai and Beijing have rich and complex pasts. Shanghai&#39;s history dates back to ancient times, but its modern development is particularly noteworthy. It experienced significant economic growth after the war and played a major role in China&#39;s economic reforms. Beijing, on the other hand, has a history that spans several dynasties and served as the capital during the Ming and Qing dynasties. It has preserved its historical heritage while evolving into a modern metropolis.

In terms of current economy, Shanghai is a global center for finance and innovation. It has a diverse economy and has experienced rapid development, with a high GDP and significant foreign investment. It is a major player in the global financial industry and is home to the Shanghai Stock Exchange. Beijing&#39;s economy is primarily driven by the tertiary sector, with a focus on services such as professional services, information technology, and commercial real estate. It has identified high-end economic output zones that are driving local economic growth.

Overall, both cities have thriving economies, but Shanghai has a stronger focus on finance and global influence, while Beijing has a diverse economy with a focus on services and high-end economic zones.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># baseline</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">base_query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Tell me the differences between Shanghai and Beijing in terms of history and current economy&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Shanghai and Beijing have distinct differences in terms of history and current economy. Historically, Shanghai was the largest and most prosperous city in East Asia during the 1930s, while Beijing served as the capital of the Republic of China and later the People&#39;s Republic of China. Shanghai experienced significant growth and redevelopment in the 1990s, while Beijing expanded its urban area and underwent rapid development in the last two decades.

In terms of the current economy, Shanghai is considered the &quot;showpiece&quot; of China&#39;s booming economy. It is a global center for finance and innovation, with a strong focus on industries such as retail, finance, IT, real estate, machine manufacturing, and automotive manufacturing. Shanghai is also home to the world&#39;s busiest container port, the Port of Shanghai. The city has a high GDP and is classified as an Alpha+ city by the Globalization and World Cities Research Network.

On the other hand, Beijing is a global financial center and ranks third globally in the Global Financial Centres Index. It is also a hub for the Chinese and global technology industry, with a large startup ecosystem. Beijing has a strong presence in industries such as finance, technology, and pharmaceuticals. The city is home to the headquarters of large state banks and insurance companies, as well as the country&#39;s financial regulatory agencies.

Overall, while both Shanghai and Beijing are important economic centers in China, Shanghai has a stronger focus on industries such as finance, retail, and manufacturing, while Beijing has a strong presence in finance, technology, and pharmaceuticals.
</pre></div>
</div>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="multi_document_agents-v1.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Multi-Document Agents (V1)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../query_engine/ensemble_query_engine.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Ensemble Query Engine Guide</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Jerry Liu
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link" href="https://readthedocs.org/projects/gpt-index" aria-label="On Read the Docs">
                <svg x="0px" y="0px" viewBox="-125 217 360 360" xml:space="preserve">
                  <path fill="currentColor" d="M39.2,391.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3 c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2 c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,391.3,40.4,391.1,39.2,391.3z M39.2,353.6c-4.2,0.6-7.1,4.4-6.5,8.5 c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4 c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,353.6,40.4,353.4,39.2,353.6z M39.2,315.9 c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8 c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9 C41.7,315.9,40.4,315.8,39.2,315.9z M39.2,278.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7 c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6 c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,278.2,40.4,278.1,39.2,278.3z M-13.6,238.5c-39.6,0.3-54.3,12.5-54.3,12.5v295.7 c0,0,14.4-12.4,60.8-10.5s55.9,18.2,112.9,19.3s71.3-8.8,71.3-8.8l0.8-301.4c0,0-25.6,7.3-75.6,7.7c-49.9,0.4-61.9-12.7-107.7-14.2 C-8.2,238.6-10.9,238.5-13.6,238.5z M19.5,257.8c0,0,24,7.9,68.3,10.1c37.5,1.9,75-3.7,75-3.7v267.9c0,0-19,10-66.5,6.6 C59.5,536.1,19,522.1,19,522.1L19.5,257.8z M-3.6,264.8c4.2,0,7.7,3.4,7.7,7.7c0,4.2-3.4,7.7-7.7,7.7c0,0-12.4,0.1-20,0.8 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,0,0,0,0c0,0,11.3-6,27-7.5 C-16,264.9-3.6,264.8-3.6,264.8z M-11,302.6c4.2-0.1,7.4,0,7.4,0c4.2,0.5,7.2,4.3,6.7,8.5c-0.4,3.5-3.2,6.3-6.7,6.7 c0,0-12.4,0.1-20,0.8c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5 C-20.5,302.9-15.2,302.7-11,302.6z M-3.6,340.2c4.2,0,7.7,3.4,7.7,7.7s-3.4,7.7-7.7,7.7c0,0-12.4-0.1-20,0.7 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5C-16,340.1-3.6,340.2-3.6,340.2z" />
                </svg>
              </a><a class="muted-link" href="https://github.com/jerryjliu/gpt_index" aria-label="On GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Multi-Document Agents</a><ul>
<li><a class="reference internal" href="#setup-and-download-data">Setup and Download Data</a></li>
<li><a class="reference internal" href="#building-multi-document-agents">Building Multi-Document Agents</a><ul>
<li><a class="reference internal" href="#build-document-agent-for-each-document">Build Document Agent for each Document</a></li>
<li><a class="reference internal" href="#build-retriever-enabled-openai-agent">Build Retriever-Enabled OpenAI Agent</a></li>
<li><a class="reference internal" href="#define-baseline-vector-store-index">Define Baseline Vector Store Index</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-example-queries">Running Example Queries</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script async="async" src="/_/static/javascript/readthedocs-doc-embed.js"></script>
    <script src="../../_static/js/mendablesearch.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.3.3/dist/umd/index.js"></script>
    <script defer="defer" src="../../_static/js/algolia.js"></script>
    </body>
</html>